{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2025-08-14T00:41:43.203979+00:00",
  "repo": "cathieyun/draft-athm",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 4,
      "id": "I_kwDOO-FvB87DZ83v",
      "title": "Add Ristretto as a supported ATHM curve",
      "url": "https://github.com/cathieyun/draft-athm/issues/4",
      "state": "OPEN",
      "author": "cathieyun",
      "authorAssociation": "OWNER",
      "assignees": [
        "SamuelSchlesinger"
      ],
      "labels": [],
      "body": "A request from the Google folks. Will assign to Sam to update the spec with this curve and test vectors.",
      "createdAt": "2025-07-30T20:27:40Z",
      "updatedAt": "2025-07-30T20:27:46Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 5,
      "id": "I_kwDOO-FvB87DZ9j6",
      "title": "Encode protocol specific information in the F-S transform",
      "url": "https://github.com/cathieyun/draft-athm/issues/5",
      "state": "OPEN",
      "author": "cathieyun",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Encode information about the protocol, such as what version/deployment as well as how many buckets, in the F-S transform so it's cryptographically tied to the issuance proof.\n\nDo this in the spec, as well as poc so the test vectors get updated.",
      "createdAt": "2025-07-30T20:28:51Z",
      "updatedAt": "2025-08-06T20:57:38Z",
      "closedAt": null,
      "comments": [
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "We still need to pull the spec update in to the POC and test vectors.",
          "createdAt": "2025-08-06T20:57:38Z",
          "updatedAt": "2025-08-06T20:57:38Z"
        }
      ]
    },
    {
      "number": 6,
      "id": "I_kwDOO-FvB87DZ-Kx",
      "title": "Updated poc and test vectors for P256 and multi-bucket protocol",
      "url": "https://github.com/cathieyun/draft-athm/issues/6",
      "state": "OPEN",
      "author": "cathieyun",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "We need test vectors for P256, with the multi-bucket ATHM, in order to test interoperability.",
      "createdAt": "2025-07-30T20:29:51Z",
      "updatedAt": "2025-07-30T20:29:51Z",
      "closedAt": null,
      "comments": []
    }
  ],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDOO-FvB86bQ2Eu",
      "title": "fixed e/challenge typo",
      "url": "https://github.com/cathieyun/draft-athm/pull/1",
      "state": "MERGED",
      "author": "SamuelSchlesinger",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-06-19T13:43:35Z",
      "updatedAt": "2025-06-20T19:05:55Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "c14f66937f27894e500c28e82de191fa70b5216e",
      "headRepository": "cathieyun/draft-athm",
      "headRefName": "samschles/fix-e-challenge-typo",
      "headRefOid": "1e58be268d6496b89033be6c90caefc814983a6d",
      "closedAt": "2025-06-20T19:05:54Z",
      "mergedAt": "2025-06-20T19:05:54Z",
      "mergedBy": "cathieyun",
      "mergeCommit": {
        "oid": "cbcbcde4935ca3ea5f4dd488bb313e0ca61ccc5f"
      },
      "comments": [
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "LGTM, thanks for the catch",
          "createdAt": "2025-06-20T19:05:51Z",
          "updatedAt": "2025-06-20T19:05:51Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 2,
      "id": "PR_kwDOO-FvB86buZ2K",
      "title": "Fix typos, add VerifiedPublicKey struct",
      "url": "https://github.com/cathieyun/draft-athm/pull/2",
      "state": "MERGED",
      "author": "cathieyun",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Added VerifiedPublicKey struct to address the feedback:\r\n> Should this (server key proof verification) be invoked in every token request? shouldn't this be just a one time verification of the public parameters?\r\n\r\nFixed some typos / leftovers from renaming `b` to `hiddenMetadata`.\r\n\r\nSampled the server keys (y, z) from Z*_p instead of Z_p, for correctness.",
      "createdAt": "2025-06-23T19:45:17Z",
      "updatedAt": "2025-06-25T16:04:57Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "cbcbcde4935ca3ea5f4dd488bb313e0ca61ccc5f",
      "headRepository": "cathieyun/draft-athm",
      "headRefName": "google-feedback",
      "headRefOid": "6858b0be17842fe4ec36f88483fcd73ce37b0c30",
      "closedAt": "2025-06-25T16:04:57Z",
      "mergedAt": "2025-06-25T16:04:57Z",
      "mergedBy": "cathieyun",
      "mergeCommit": {
        "oid": "c00275d93373fd889fc7142d51a18baf1df377ec"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOO-FvB86v7Rn4",
          "commit": {
            "abbreviatedOid": "bb8acb7"
          },
          "author": "SamuelSchlesinger",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-23T21:10:51Z",
          "updatedAt": "2025-06-23T21:10:51Z",
          "comments": []
        }
      ]
    },
    {
      "number": 3,
      "id": "PR_kwDOO-FvB86cWGyf",
      "title": "Update draft-yun-cfrg-athm.md",
      "url": "https://github.com/cathieyun/draft-athm/pull/3",
      "state": "MERGED",
      "author": "marianapr",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "draft for an intro",
      "createdAt": "2025-06-27T03:59:48Z",
      "updatedAt": "2025-08-07T18:49:28Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "6cd97c57496a39fc2856f19f230c098811831b03",
      "headRepository": "cathieyun/draft-athm",
      "headRefName": "marianapr-patch-1",
      "headRefOid": "5c015b768b4f8d1b21caa141630142ea52d52e4e",
      "closedAt": "2025-08-07T18:49:28Z",
      "mergedAt": "2025-08-07T18:49:28Z",
      "mergedBy": "cathieyun",
      "mergeCommit": {
        "oid": "97aff3e38813cb28f9d202dd266a390d4ce0e535"
      },
      "comments": [
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "This looks good, thanks for putting an intro together! And I think referencing the public metadata spec is helpful too. \r\n\r\nNit, this breaks the Editor's Copy build because of trailing whitespace. You can either remove the whitespace manually, or run the linter (make fix-lint) to fix all lint mistakes automatically. ",
          "createdAt": "2025-06-27T14:36:46Z",
          "updatedAt": "2025-06-27T14:36:46Z"
        },
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "LGTM after lint fixes. ",
          "createdAt": "2025-06-27T14:37:47Z",
          "updatedAt": "2025-06-27T14:37:47Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 7,
      "id": "PR_kwDOO-FvB86iDPhL",
      "title": "Fixed contextString",
      "url": "https://github.com/cathieyun/draft-athm/pull/7",
      "state": "MERGED",
      "author": "SamuelSchlesinger",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "- Use correct protocol name\r\n- Include number of buckets\r\n- Include unique deployment identifier\r\n\r\nAddresses #5 ",
      "createdAt": "2025-08-04T17:47:52Z",
      "updatedAt": "2025-08-05T19:02:42Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "c00275d93373fd889fc7142d51a18baf1df377ec",
      "headRepository": "cathieyun/draft-athm",
      "headRefName": "samschlesinger/f-s-patch",
      "headRefOid": "fa1fa2a7612e45afb06bf3034915c684849b270b",
      "closedAt": "2025-08-05T17:00:23Z",
      "mergedAt": "2025-08-05T17:00:23Z",
      "mergedBy": "SamuelSchlesinger",
      "mergeCommit": {
        "oid": "754296f11ffc97ce1cb16623e1de9187e96a37dc"
      },
      "comments": [
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "Thanks, Sam! LGTM :)",
          "createdAt": "2025-08-05T17:43:13Z",
          "updatedAt": "2025-08-05T17:43:13Z"
        },
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "Can you additionally update this in the proof of concept? (which will then update the test vectors)",
          "createdAt": "2025-08-05T19:02:42Z",
          "updatedAt": "2025-08-05T19:02:42Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 8,
      "id": "PR_kwDOO-FvB86iddbs",
      "title": "Update curve in poc from P384 to P256, remove hash identifier",
      "url": "https://github.com/cathieyun/draft-athm/pull/8",
      "state": "MERGED",
      "author": "cathieyun",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Update poc and test vectors to use P256 instead of P384, remove hash identifier.\r\n\r\nAlso small nit on the formatting of the context string, using dash delimiters instead of quotes (not a big deal, but we currently use dashes everywhere else)",
      "createdAt": "2025-08-06T21:06:43Z",
      "updatedAt": "2025-08-07T18:37:34Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "754296f11ffc97ce1cb16623e1de9187e96a37dc",
      "headRepository": "cathieyun/draft-athm",
      "headRefName": "cathie/update-group",
      "headRefOid": "45aa875c59d94ecedacbad47badb64aa5edd4aeb",
      "closedAt": "2025-08-07T18:37:34Z",
      "mergedAt": "2025-08-07T18:37:34Z",
      "mergedBy": "cathieyun",
      "mergeCommit": {
        "oid": "6cd97c57496a39fc2856f19f230c098811831b03"
      },
      "comments": [
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "Merging this in so Google folks can use the updated ciphersuite definitions for their test vectors here:\r\nhttps://github.com/cathieyun/draft-athm/pull/9",
          "createdAt": "2025-08-07T18:35:11Z",
          "updatedAt": "2025-08-07T18:35:11Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 9,
      "id": "PR_kwDOO-FvB86ieLqu",
      "title": "Add test vectors for ATHM(P-256)",
      "url": "https://github.com/cathieyun/draft-athm/pull/9",
      "state": "MERGED",
      "author": "schoppmp",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Based on the implementation in the following commit: https://github.com/google/anonymous-tokens/tree/3a6ca6cb8d6446396555c2c4dcd250fdc44a30b3/athm",
      "createdAt": "2025-08-06T22:39:13Z",
      "updatedAt": "2025-08-07T20:13:49Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "97aff3e38813cb28f9d202dd266a390d4ce0e535",
      "headRepository": "schoppmp/draft-athm",
      "headRefName": "patch-1",
      "headRefOid": "c88e1bbc41cc04ce4cb6feec8f61b63bddc9bd09",
      "closedAt": "2025-08-07T20:13:49Z",
      "mergedAt": "2025-08-07T20:13:49Z",
      "mergedBy": "cathieyun",
      "mergeCommit": {
        "oid": "2bc3ba126f39d724ead6a066190ee3308bdd5a1f"
      },
      "comments": [
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "Amazing, thanks! I'll take a look shortly. In the meantime will kick of the workflows to make sure there aren't any CI failures.",
          "createdAt": "2025-08-07T06:31:22Z",
          "updatedAt": "2025-08-07T06:31:22Z"
        },
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "Sorry for the nit, but after discussion we realized that we don't need the hash identifier in the ciphersuite - so instead of ATHM(P256, SHA256) the ciphersuite can just be ATHM(P256).\r\n\r\nI updated that in this PR: https://github.com/cathieyun/draft-athm/pull/8\r\nIf I merge that in, can you pull that change into your reference implementation and update the test vectors accordingly? Sorry for the hassle, but I think this simplifies our ciphersuite registry and is a change we should incorporate.",
          "createdAt": "2025-08-07T18:34:28Z",
          "updatedAt": "2025-08-07T18:34:28Z"
        },
        {
          "author": "schoppmp",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I updated the context string in the implementation to match the updated spec, and updated the test vectors. PTAL.",
          "createdAt": "2025-08-07T19:15:24Z",
          "updatedAt": "2025-08-07T19:15:24Z"
        },
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "One note: because your test vector generation script is using ChaCha20Rng, we won't be able to reproduce the *same* test vectors (as we don't have ChaCha20Rng on CryptoKit IIRC), we will only be able to *verify* the test vectors. \r\n\r\nUnless you also export all the intermediate generated values (eg proof blinding factors, all randomly sampled values), this will be the case. I think I'm okay with only *verifying* test vectors, but want to call this out and double check.",
          "createdAt": "2025-08-07T19:41:57Z",
          "updatedAt": "2025-08-07T19:41:57Z"
        },
        {
          "author": "schoppmp",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I'm happy to swap out the PRNG to a different one if you have a pointer to one that exists in both Rust and CryptoKit.",
          "createdAt": "2025-08-07T19:45:47Z",
          "updatedAt": "2025-08-07T19:45:47Z"
        },
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "Yeah I'm not sure what PRNG works between the two (have not duplicated behavior between Rust and CryptoKit before), but I think we're okay as-is because test vectors are usually for verifying that if you received that test vector (eg as a server), you could process it correctly. So we don't actually need to *reproduce* it on the CryptoKit side.",
          "createdAt": "2025-08-07T19:53:01Z",
          "updatedAt": "2025-08-07T19:53:19Z"
        },
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "This LGTM from what I can tell from the Rust implementation.\r\nNext week, I will pull these test vectors into CryptoKit and update our CryptoKit implementation to match the spec, and then hopefully the test vectors will pass.\r\n\r\nBut at the time of integration, I will probably have more feedback on the Rust implementation / test vectors. Would it be better to either:\r\n- leave this PR open, so I can leave feedback for the Rust implementation here / the test vectors can get updated accordingly. I'd close this PR once the CryptoKit integration works with the test vectors.\r\n- open an issue directly in the Rust repo with feedback / requested changes (https://github.com/google/anonymous-tokens), and then open a new PR on the ATHM draft with the updated test vectors? This will allow us to close this PR now.",
          "createdAt": "2025-08-07T19:58:44Z",
          "updatedAt": "2025-08-07T19:59:16Z"
        },
        {
          "author": "schoppmp",
          "authorAssociation": "CONTRIBUTOR",
          "body": "If you're OK with the test vector format then I would say merging now and opening issues as they come up is better.",
          "createdAt": "2025-08-07T20:10:51Z",
          "updatedAt": "2025-08-07T20:10:51Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOO-FvB864rSRo",
          "commit": {
            "abbreviatedOid": "0277e50"
          },
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-07T18:35:58Z",
          "updatedAt": "2025-08-07T18:35:58Z",
          "comments": [
            {
              "originalPosition": 8,
              "body": "Can you add this link, for ease of future reference? (So we don't have to look for this PR to get the reference).",
              "createdAt": "2025-08-07T18:35:58Z",
              "updatedAt": "2025-08-07T18:35:58Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOO-FvB864rfVD",
          "commit": {
            "abbreviatedOid": "0277e50"
          },
          "author": "schoppmp",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-08-07T18:58:19Z",
          "updatedAt": "2025-08-07T18:58:19Z",
          "comments": [
            {
              "originalPosition": 8,
              "body": "Done.",
              "createdAt": "2025-08-07T18:58:19Z",
              "updatedAt": "2025-08-07T18:58:19Z"
            }
          ]
        }
      ]
    },
    {
      "number": 10,
      "id": "PR_kwDOO-FvB86ja1KS",
      "title": "Update poc to multi-bit ATHM",
      "url": "https://github.com/cathieyun/draft-athm/pull/10",
      "state": "OPEN",
      "author": "cathieyun",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Also add helpers for debugging test vectors, such as printing the parameter elements (genG, genH).\r\n",
      "createdAt": "2025-08-13T07:11:06Z",
      "updatedAt": "2025-08-13T17:43:11Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "2bc3ba126f39d724ead6a066190ee3308bdd5a1f",
      "headRepository": "cathieyun/draft-athm",
      "headRefName": "cathie/multibit-athm",
      "headRefOid": "acce47c37c70ff8a5601ba8d7154c911955a36a0",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 11,
      "id": "PR_kwDOO-FvB86jipZ2",
      "title": "Update test vectors",
      "url": "https://github.com/cathieyun/draft-athm/pull/11",
      "state": "MERGED",
      "author": "schoppmp",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "See https://github.com/google/anonymous-tokens/issues/36#issuecomment-3185043831",
      "createdAt": "2025-08-13T18:56:32Z",
      "updatedAt": "2025-08-13T19:32:27Z",
      "baseRepository": "cathieyun/draft-athm",
      "baseRefName": "main",
      "baseRefOid": "2bc3ba126f39d724ead6a066190ee3308bdd5a1f",
      "headRepository": "schoppmp/draft-athm",
      "headRefName": "patch-2",
      "headRefOid": "48aa9f92239a58f12d7be9092c26b9bb46a0632e",
      "closedAt": "2025-08-13T19:32:27Z",
      "mergedAt": "2025-08-13T19:32:27Z",
      "mergedBy": "cathieyun",
      "mergeCommit": {
        "oid": "fef7059572bcf6beb218e9ac5548bff9a0258e11"
      },
      "comments": [
        {
          "author": "cathieyun",
          "authorAssociation": "OWNER",
          "body": "Thanks, LGTM! ",
          "createdAt": "2025-08-13T19:32:23Z",
          "updatedAt": "2025-08-13T19:32:23Z"
        }
      ],
      "reviews": []
    }
  ]
}